var tree = [
{
	id : 1,
	title: "Alex",
	parentID: 0,
	gender: "male"
},
{
	id : 2,
	title: "Avi",
	parentID: 1,
	gender: "male"
},
{
	id : 3,
	title: "Aviva",
	parentID: 1,
	gender: "female"
},
{
	id : 4,
	title: "Bonita",
	parentID: 3,
	gender: "female"
},
{
	id : 5,
	title: "Boaz",
	parentID: 3,
	gender: "male"
},
{
	id : 6,
	title: "Joe",
	parentID: 2,
	gender: "male"
},
{
	id : 7,
	title: "Judy",
	parentID: 1,
	gender: "female"
},
{
	id : 8,
	title: "Deborah",
	parentID: 6,
	gender: "female"
},
{
	id : 9,
	title: "Hadas",
	parentID: 1,
	gender: "female"
},
{
	id : 10,
	title: "William",
	parentID: 2,
	gender: "male"
},
{
	id : 11,
	title: "Jacky",
	parentID: 10,
	gender: "male"
},
{
	id : 12,
	title: "Zvulun",
	parentID: 9,
	gender: "male"
},
{
	id : 13,
	title: "Chava",
	parentID: 9,
	gender: "female"
},
{
	id : 14,
	title: "Teddy",
	parentID: 10,
	gender: "male"
},
{
	id : 15,
	title: "Yevgeni",
	parentID: 7,
	gender: "male"
},
{
	id : 16,
	title: "Kochava",
	parentID: 1,
	gender: "female"
},
{
	id : 17,
	title: "Leon",
	parentID: 16,
	gender: "male"
},
{
	id : 18,
	title: "Meir",
	parentID: 15,
	gender: "male"
},
{
	id : 19,
	title: "Mary",
	parentID: 15,
	gender: "female"
},
{
	id : 20,
	title: "Nava",
	parentID: 15,
	gender: "female"
},
{
	id : 21,
	title: "Sigalit",
	parentID: 15,
	gender: "female"
},
{
	id : 22,
	title: "Susann",
	parentID: 6,
	gender: "female"
},
{
	id : 23,
	title: "Pablo",
	parentID: 1,
	gender: "male"
},
{
	id : 24,
	title: "Charles",
	parentID: 6,
	gender: "male"
},
{
	id : 25,
	title: "Karen",
	parentID: 15,
	gender: "female"
},
{
	id : 26,
	title: "Raul",
	parentID: 6,
	gender: "male"
},
{
	id : 27,
	title: "Shaul",
	parentID: 16,
	gender: "male"
},
{
	id : 28,
	title: "Tehila",
	parentID: 2,
	gender: "female"
},
{
	id : 29,
	title: "Tom",
	parentID: 2,
	gender: "male"
}];
hierarchy = [];
for (i = 0; i < tree.length; i++)//The function adds to the array hierarchy the persons that are the first in the hierarchy
{
    if (!tree[i].parentID)
        hierarchy.push({ value: tree[i], children: getChildren(tree[i].id) });
}
function getChildren(parentID)//The function gets person's id and returns his children as array of objects of: value and children
{
    var children = [];
    for (var i = 0; i < tree.length; i++) {
        if (tree[i].parentID == parentID)
            children.push({ value: tree[i], children: getChildren(tree[i].id) });
    }
    return children;
}
$(document).ready(function () {
    for (var i = 0; i < hierarchy.length; i++) {
        showPersonAndChildren(hierarchy[i]);
    }
    function showPersonAndChildren(person) {
        var id = person.value.parentID;
        if (!id)//For the persons that are the first in the hierarchy
            id = "list";
        $("#" + id).append("<li class='" + person.value.gender + "' id='li" + person.value.id + "'>" + person.value.title + "</li>");
        if (person.children.length > 0)
            $("#li" + person.value.id).append("<ul id='" + person.value.id + "'></ul>");
        for (var i = 0; i < person.children.length; i++) {
            showPersonAndChildren(person.children[i]);
        }

    }

});
